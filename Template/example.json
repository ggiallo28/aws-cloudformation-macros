{
	"AWSTemplateFormatVersion": "2010-09-09",
	"Description": "SNS Topics for alarms",
	"Parameters": {
		"SupportEmail": {
			"Type": "String",
			"Default": "support+18x7@xpeppers.com"
		},
		"AccountName": {
			"Type": "String",
			"Default": ""
		}
	},
	"Resources": {
		"UrgentPriorityAlarm": {
			"Type": "AWS::SNS::Topic",
			"Properties": {
				"DisplayName": {
					"Fn::Sub": "${AccountName}-Urgent-Priority-Alarm"
				},
				"Subscription": [{
					"Endpoint": {
						"Ref": "SupportEmail"
					},
					"Protocol": "email"
				}],
				"TopicName": {
					"Fn::Sub": "${AccountName}-Urgent-Priority-Alarm"
				}
			}
		},
		"HighPriorityAlarm": {
			"Type": "AWS::SNS::Topic",
			"Properties": {
				"DisplayName": {
					"Fn::Sub": "${AccountName}-High-Priority-Alarm"
				},
				"Subscription": [{
					"Endpoint": {
						"Ref": "SupportEmail"
					},
					"Protocol": "email"
				}],
				"TopicName": {
					"Fn::Sub": "${AccountName}-High-Priority-Alarm"
				}
			}
		},
		"MediumPriorityAlarm": {
			"Type": "AWS::SNS::Topic",
			"Properties": {
				"DisplayName": {
					"Fn::Sub": "${AccountName}-Medium-Priority-Alarm"
				},
				"Subscription": [{
					"Endpoint": {
						"Ref": "SupportEmail"
					},
					"Protocol": "email"
				}],
				"TopicName": {
					"Fn::Sub": "${AccountName}-Medium-Priority-Alarm"
				}
			}
		},
		"LowPriorityAlarm": {
			"Type": "AWS::SNS::Topic",
			"Properties": {
				"DisplayName": {
					"Fn::Sub": "${AccountName}-Low-Priority-Alarm"
				},
				"Subscription": [{
					"Endpoint": {
						"Ref": "SupportEmail"
					},
					"Protocol": "email"
				}],
				"TopicName": {
					"Fn::Sub": "${AccountName}-Low-Priority-Alarm"
				}
			}
		}
	},
	"Outputs": {
		"UrgentPriorityAlarm": {
			"Description": "Urgent priority SNS topic ARN",
			"Value": {
				"Ref": "UrgentPriorityAlarm"
			},
			"Export": {
				"Name": {
					"Fn::Sub": "${AWS::StackName}-urgent"
				}
			}
		},
		"HighPriorityAlarm": {
			"Description": "High priority SNS topic ARN",
			"Value": {
				"Ref": "HighPriorityAlarm"
			},
			"Export": {
				"Name": {
					"Fn::Sub": "${AWS::StackName}-high"
				}
			}
		},
		"MediumPriorityAlarm": {
			"Description": "Medium priority SNS topic ARN",
			"Value": {
				"Ref": "MediumPriorityAlarm"
			},
			"Export": {
				"Name": {
					"Fn::Sub": "${AWS::StackName}-medium"
				}
			}
		},
		"LowPriorityAlarm": {
			"Description": "Low priority SNS topic ARN",
			"Value": {
				"Ref": "LowPriorityAlarm"
			},
			"Export": {
				"Name": {
					"Fn::Sub": "${AWS::StackName}-low"
				}
			}
		}
	}
}