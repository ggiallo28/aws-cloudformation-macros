{"Conditions": {"CreateProdResources": {"Fn::Equals": [{"Ref": "Environment"}, "prod"]}}, "Description": "This template is the result of the merge. [SNSTopiInlineCondition] SNS Topics for alarms [SNSTopiInline] SNS Topics for alarms [SNSTopicS3] SNS Topics for alarms", "Outputs": {"SNSTopiInlineConditionHighPriorityAlarm": {"Condition": "CreateProdResources", "Description": "[SNSTopiInlineCondition] High priority SNS topic ARN", "Export": {"Name": {"Fn::Join": ["-", ["SNSTopiInlineCondition", {"Fn::Join": ["", [{"Ref": "AWS::StackName"}, "-high-", {"Ref": "Environment"}]]}]]}}, "Value": {"Ref": "SNSTopiInlineConditionHighPriorityAlarm"}}, "SNSTopiInlineConditionLowPriorityAlarm": {"Condition": "CreateProdResources", "Description": "[SNSTopiInlineCondition] Low priority SNS topic ARN", "Export": {"Name": {"Fn::Join": ["-", ["SNSTopiInlineCondition", {"Fn::Join": ["", [{"Ref": "AWS::StackName"}, "-low-", {"Ref": "Environment"}]]}]]}}, "Value": {"Ref": "SNSTopiInlineConditionLowPriorityAlarm"}}, "SNSTopiInlineConditionMediumPriorityAlarm": {"Condition": "CreateProdResources", "Description": "[SNSTopiInlineCondition] Medium priority SNS topic ARN", "Export": {"Name": {"Fn::Join": ["-", ["SNSTopiInlineCondition", {"Fn::Join": ["", [{"Ref": "AWS::StackName"}, "-medium-", {"Ref": "Environment"}]]}]]}}, "Value": {"Ref": "SNSTopiInlineConditionMediumPriorityAlarm"}}, "SNSTopiInlineConditionUrgentPriorityAlarm": {"Condition": "CreateProdResources", "Description": "[SNSTopiInlineCondition] Urgent priority SNS topic ARN", "Export": {"Name": {"Fn::Join": ["-", ["SNSTopiInlineCondition", {"Fn::Join": ["", [{"Ref": "AWS::StackName"}, "-urgent-", {"Ref": "Environment"}]]}]]}}, "Value": {"Ref": "SNSTopiInlineConditionUrgentPriorityAlarm"}}, "SNSTopiInlineHighPriorityAlarm": {"Description": "[SNSTopiInline] High priority SNS topic ARN", "Export": {"Name": {"Fn::Join": ["-", ["SNSTopiInline", {"Fn::Join": ["", [{"Ref": "AWS::StackName"}, "-high-", {"Ref": "Environment"}]]}]]}}, "Value": {"Ref": "SNSTopiInlineHighPriorityAlarm"}}, "SNSTopiInlineLowPriorityAlarm": {"Description": "[SNSTopiInline] Low priority SNS topic ARN", "Export": {"Name": {"Fn::Join": ["-", ["SNSTopiInline", {"Fn::Join": ["", [{"Ref": "AWS::StackName"}, "-low-", {"Ref": "Environment"}]]}]]}}, "Value": {"Ref": "SNSTopiInlineLowPriorityAlarm"}}, "SNSTopiInlineMediumPriorityAlarm": {"Description": "[SNSTopiInline] Medium priority SNS topic ARN", "Export": {"Name": {"Fn::Join": ["-", ["SNSTopiInline", {"Fn::Join": ["", [{"Ref": "AWS::StackName"}, "-medium-", {"Ref": "Environment"}]]}]]}}, "Value": {"Ref": "SNSTopiInlineMediumPriorityAlarm"}}, "SNSTopiInlineUrgentPriorityAlarm": {"Description": "[SNSTopiInline] Urgent priority SNS topic ARN", "Export": {"Name": {"Fn::Join": ["-", ["SNSTopiInline", {"Fn::Join": ["", [{"Ref": "AWS::StackName"}, "-urgent-", {"Ref": "Environment"}]]}]]}}, "Value": {"Ref": "SNSTopiInlineUrgentPriorityAlarm"}}, "SNSTopicS3HighPriorityAlarm": {"Description": "[SNSTopicS3] High priority SNS topic ARN", "Export": {"Name": {"Fn::Join": ["-", ["SNSTopicS3", {"Fn::Join": ["", [{"Ref": "AWS::StackName"}, "-high-", {"Ref": "Environment"}]]}]]}}, "Value": {"Ref": "SNSTopicS3HighPriorityAlarm"}}, "SNSTopicS3LowPriorityAlarm": {"Description": "[SNSTopicS3] Low priority SNS topic ARN", "Export": {"Name": {"Fn::Join": ["-", ["SNSTopicS3", {"Fn::Join": ["", [{"Ref": "AWS::StackName"}, "-low-", {"Ref": "Environment"}]]}]]}}, "Value": {"Ref": "SNSTopicS3LowPriorityAlarm"}}, "SNSTopicS3MediumPriorityAlarm": {"Description": "[SNSTopicS3] Medium priority SNS topic ARN", "Export": {"Name": {"Fn::Join": ["-", ["SNSTopicS3", {"Fn::Join": ["", [{"Ref": "AWS::StackName"}, "-medium-", {"Ref": "Environment"}]]}]]}}, "Value": {"Ref": "SNSTopicS3MediumPriorityAlarm"}}, "SNSTopicS3UrgentPriorityAlarm": {"Description": "[SNSTopicS3] Urgent priority SNS topic ARN", "Export": {"Name": {"Fn::Join": ["-", ["SNSTopicS3", {"Fn::Join": ["", [{"Ref": "AWS::StackName"}, "-urgent-", {"Ref": "Environment"}]]}]]}}, "Value": {"Ref": "SNSTopicS3UrgentPriorityAlarm"}}}, "Parameters": {"BranchName": {"Default": "master", "Type": "String"}, "BucketName": {"Default": "audioposts-site", "Type": "String"}, "Environment": {"Default": "dev", "Type": "String"}, "RepositoryName": {"Default": "template-macro", "Type": "String"}, "TemplateKey": {"Default": "test/sns-topics.yaml", "Type": "String"}}, "Resources": {"SNSTopiInlineConditionHighPriorityAlarm": {"Condition": "CreateProdResources", "Properties": {"DisplayName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack-condition", "-High-Priority-Alarm-", {"Ref": "Environment"}]]}, "Subscription": [{"Endpoint": "nmsek@hi2.in", "Protocol": "email"}], "TopicName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack-condition", "-High-Priority-Alarm-", {"Ref": "Environment"}]]}}, "Type": "AWS::SNS::Topic"}, "SNSTopiInlineConditionLowPriorityAlarm": {"Condition": "CreateProdResources", "Properties": {"DisplayName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack-condition", "-Low-Priority-Alarm-", {"Ref": "Environment"}]]}, "Subscription": [{"Endpoint": "nmsek@hi2.in", "Protocol": "email"}], "TopicName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack-condition", "-Low-Priority-Alarm-", {"Ref": "Environment"}]]}}, "Type": "AWS::SNS::Topic"}, "SNSTopiInlineConditionMediumPriorityAlarm": {"Condition": "CreateProdResources", "Properties": {"DisplayName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack-condition", "-Medium-Priority-Alarm-", {"Ref": "Environment"}]]}, "Subscription": [{"Endpoint": "nmsek@hi2.in", "Protocol": "email"}], "TopicName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack-condition", "-Medium-Priority-Alarm-", {"Ref": "Environment"}]]}}, "Type": "AWS::SNS::Topic"}, "SNSTopiInlineConditionUrgentPriorityAlarm": {"Condition": "CreateProdResources", "Properties": {"DisplayName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack-condition", "-Urgent-Priority-Alarm-", {"Ref": "Environment"}]]}, "Subscription": [{"Endpoint": "nmsek@hi2.in", "Protocol": "email"}], "TopicName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack-condition", "-Urgent-Priority-Alarm-", {"Ref": "Environment"}]]}}, "Type": "AWS::SNS::Topic"}, "SNSTopiInlineHighPriorityAlarm": {"Properties": {"DisplayName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack", "-High-Priority-Alarm-", {"Ref": "Environment"}]]}, "Subscription": [{"Endpoint": "nmsek@hi2.in", "Protocol": "email"}], "TopicName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack", "-High-Priority-Alarm-", {"Ref": "Environment"}]]}}, "Type": "AWS::SNS::Topic"}, "SNSTopiInlineLowPriorityAlarm": {"Properties": {"DisplayName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack", "-Low-Priority-Alarm-", {"Ref": "Environment"}]]}, "Subscription": [{"Endpoint": "nmsek@hi2.in", "Protocol": "email"}], "TopicName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack", "-Low-Priority-Alarm-", {"Ref": "Environment"}]]}}, "Type": "AWS::SNS::Topic"}, "SNSTopiInlineMediumPriorityAlarm": {"Properties": {"DisplayName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack", "-Medium-Priority-Alarm-", {"Ref": "Environment"}]]}, "Subscription": [{"Endpoint": "nmsek@hi2.in", "Protocol": "email"}], "TopicName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack", "-Medium-Priority-Alarm-", {"Ref": "Environment"}]]}}, "Type": "AWS::SNS::Topic"}, "SNSTopiInlineUrgentPriorityAlarm": {"Properties": {"DisplayName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack", "-Urgent-Priority-Alarm-", {"Ref": "Environment"}]]}, "Subscription": [{"Endpoint": "nmsek@hi2.in", "Protocol": "email"}], "TopicName": {"Fn::Join": ["", ["sns-topic-template-codecommit-inline-stack", "-Urgent-Priority-Alarm-", {"Ref": "Environment"}]]}}, "Type": "AWS::SNS::Topic"}, "SNSTopicS3HighPriorityAlarm": {"Properties": {"DisplayName": {"Fn::Join": ["", ["sns-topic-template-s3-inline-stack", "-High-Priority-Alarm-", {"Ref": "Environment"}]]}, "Subscription": [{"Endpoint": "nmsek@hi2.in", "Protocol": "email"}], "TopicName": {"Fn::Join": ["", ["sns-topic-template-s3-inline-stack", "-High-Priority-Alarm-", {"Ref": "Environment"}]]}}, "Type": "AWS::SNS::Topic"}, "SNSTopicS3LowPriorityAlarm": {"Properties": {"DisplayName": {"Fn::Join": ["", ["sns-topic-template-s3-inline-stack", "-Low-Priority-Alarm-", {"Ref": "Environment"}]]}, "Subscription": [{"Endpoint": "nmsek@hi2.in", "Protocol": "email"}], "TopicName": {"Fn::Join": ["", ["sns-topic-template-s3-inline-stack", "-Low-Priority-Alarm-", {"Ref": "Environment"}]]}}, "Type": "AWS::SNS::Topic"}, "SNSTopicS3MediumPriorityAlarm": {"Properties": {"DisplayName": {"Fn::Join": ["", ["sns-topic-template-s3-inline-stack", "-Medium-Priority-Alarm-", {"Ref": "Environment"}]]}, "Subscription": [{"Endpoint": "nmsek@hi2.in", "Protocol": "email"}], "TopicName": {"Fn::Join": ["", ["sns-topic-template-s3-inline-stack", "-Medium-Priority-Alarm-", {"Ref": "Environment"}]]}}, "Type": "AWS::SNS::Topic"}, "SNSTopicS3UrgentPriorityAlarm": {"Properties": {"DisplayName": {"Fn::Join": ["", ["sns-topic-template-s3-inline-stack", "-Urgent-Priority-Alarm-", {"Ref": "Environment"}]]}, "Subscription": [{"Endpoint": "nmsek@hi2.in", "Protocol": "email"}], "TopicName": {"Fn::Join": ["", ["sns-topic-template-s3-inline-stack", "-Urgent-Priority-Alarm-", {"Ref": "Environment"}]]}}, "Type": "AWS::SNS::Topic"}}}